<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
   <data>
  <!-- main menu of libary management module -->
        <menuitem id="library_management_menu_root"
            name="Library Management"/>
 <!--created  readers detail sub menu of library management  -->
        <menuitem id="readers_detail_menu"
                name="Readers Detail"
                groups="group_library_management_readers"
                parent="library_management_menu_root"
                action="action_readers_detail"/>

<!-- form tag start from here-->

        <record id="readers_detail_view_form" model="ir.ui.view">
            <field name="name">readers.detail.view.form</field>
            <field name="model">readers.detail</field>
            <field name="arch" type="xml">
                <form string="Readers">
                    <!-- header tag to add statusbar and buttons -->
                    <header>
                        <button id="action_borrowed" name="action_borrowed" string="Borrow" type="object" states="draft" class="btn-primary" />

                        <button id="action_returned" name="action_returned" string="Return" type="object" states="borrowed" class="btn-primary" />

                        <button id="action_lost" name="action_lost" string="Lost" type="object" states="draft,borrowed,returned" class="btn-primary" />

                        <button id="action_draft" name="action_draft" string="Draft" type="object" states="lost" class="btn-primary" />

                        <field name="state" widget="statusbar" nolable="1" options="{'clickable':'1'}"/>

                    </header>

    <!-- sheet tag start from here -->
                        <sheet>
        <!-- smart button -->
                                <div class="oe_button_box" name="button_box">
                                <button class="oe_highlight" type="object" name="get_books" icon="fa-book">
                                    <span class="o_stat_text">Borrowed</span>
                                    <field string="Books" name="total_borrowed_book" widget="statinfo"/>
                                </button>
                                </div>

    <!-- div tag to add priority widget -->
                             <div class='oe_title'>
                                <h1>
                                    <field name='priority' widget="priority" class='mr-3'/>

                                 </h1>
                             </div>
    <!-- sequence generator -->
                        <h2>
                            <field name="reader_seq"/>
                        </h2>
     <!-- sequence generator tag end here-->  
                        
                        <group string="Readers Management" >
                            <group>
                                <field name="name" string="Name"/>
                                <field name="email" string="Email" widget="email"/>
                                <field name="phone" string="Contact" widget="phone"/>
                            </group>
                            <group>
                                <field name="total_borrowed_book" string="Total Borrowed Books"/>
                                <field name="count" string="Total Books "/>
                            </group>

<!-- notebook tag start from here to add pages -->
                        <notebook>
                                <!-- first page -->
                            <page name="info" string="Readers Information">
                                <group>
                                    <field name="is_reader" string="Is Reader"/>
                                </group>
                            </page>

                            <!-- second page -->
                                <page name="info" string="Readers Personal Details">
                                    <group>

                                        <field name="gender" string="Gender"/>
                                        <field name="address" string="Address"/>
                                    </group>
                                </page>

                                <!-- third page -->
                            <page name="info" string="Readers Book Detail">
                                <group>
                                    <field name="reader_ids" string="Reader Id"/>
                                </group>
                            </page>

                        </notebook>
<!-- notebook tag end here -->
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids"/>
                    </div>
                </form>
            </field>
        </record>

<!-- tree tag start from here-->

    <record id="readers_detail_view_tree" model="ir.ui.view">
         <field name="name">readers.detail.view.tree</field>
         <field name="model">readers.detail</field>
         <field name="arch" type="xml">
             <tree>
                <field name="name" string="Name" required="1"/>
                <field name="email" string="Email"/>
                <field name="gender" string="Gender"/>
                <field name="phone" string="Contact"/>
                <field name="is_reader" string="Is Reader"/>
            </tree>
        </field>
    </record>

      <!-- search views -->
    <record id="readers_detail_view_search" model="ir.ui.view">
        <field name="name">readers.detail.view.search</field>
        <field name="model">readers.detail</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="email"/>
                <field name="gender"/>

                <!-- filter tage to filter record based on gender -->
                <filter name='male' string='Male' domain="[('gender','=','male')]"/>
                <separator/>

                <filter name='female' string='Female' domain="[('gender','=','female')]"/>

                <!-- group by tag to filter record using groupby gender -->
                <group expand="0" string="Group By">
                    <filter string="Gender" name="group_by_gender" context="{'group_by' : 'gender'}"/>
                </group>
                        <!-- searchpanel tag -->
                        <searchpanel>
                            <field name = "gender" icon = "fa-user-o" />
                        </searchpanel>
            </search>
          </field>
        </record>

        <!-- graph view -->
        <record id="view_graph_readers" model="ir.ui.view">
                <field name="model">readers.detail</field>
                <field name="arch" type="xml">
                    <graph type="bar">
                        <field name="name" />
                        <field name="total_borrowed_book"/>
                        <field name="count" />
                        <field name="is_reader" />
                        <field name="reader_ids" type="row" />
                    </graph>
                </field>
        </record>
        <!-- action field -->

        <record model="ir.actions.act_window" id="action_readers_detail">
            <field name="name">Readers Management</field>
            <field name="res_model">readers.detail</field>
            <field name="view_mode">tree,form,graph</field>
        </record>
    </data>
</odoo>




